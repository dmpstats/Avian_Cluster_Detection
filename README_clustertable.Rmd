# Avian Cluster Detection

## Clustertable Output Descriptors

This file will provide information on the *clustertable.rds* output of the **Avian Cluster Detection** MoveApp, explaining how each attribute is calculated (and their significance).

+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Attribute Name                  | Description                                                                                                                                                                                                                  | Calculation                                                                                                                                                                                                                                                                                   |
+=================================+==============================================================================================================================================================================================================================+===============================================================================================================================================================================================================================================================================================+
| *xy.clust*                      | This is the unique identification code for the generated cluster. It will either be an integer identifier (1, 2, 3...) or an integer with the selected *clustercode* input as a suffix (ABC.1, ABC.2, ...)                   | These are generated through the clustering process, and are unique to each cluster.                                                                                                                                                                                                           |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *firstdatetime*                 | This can be considered the 'beginning' of the cluster event.                                                                                                                                                                 | This is the earliest recorded timestamp of a location associated with this cluster.                                                                                                                                                                                                           |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *lastdatetime*                  | This can be considered the 'end' of the cluster event.                                                                                                                                                                       | This is the final recorded timestamp of a location associated with this cluster.                                                                                                                                                                                                              |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *days*                          | This is the cumulative number of days on which an animal was present at this cluster event.                                                                                                                                  | All timestamps associated with this cluster are selected, and then the number of unique dates on which these occur are generated.                                                                                                                                                             |
|                                 |                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                               |
|                                 |                                                                                                                                                                                                                              | **Note:** If a cluster event is not visited by any ID for several days, but later revisited, the 'empty' days are *not* counted in this calculation. See *totalduration.*                                                                                                                     |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *totalduration*                 | This is the duration of the total timespan, in days, over which the cluster is visited. This is different to *days* as it includes days on which no ID is present at the cluster, as long as the cluster is later revisited. | The integer time difference between *firstdatetime* and *lastdatetime* is taken.                                                                                                                                                                                                              |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *daysempty*                     | This is the total number of days between *firstdatetime* and *lastdatetime* on which no ID is present at the cluster.                                                                                                        | This is the integer difference between *totalduration* and *days.*                                                                                                                                                                                                                            |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *TimeTotal*                     | This is the total amount of time spent at the cluster, across all IDs.                                                                                                                                                       | All locations associated with the cluster are selected, and the time difference (calculated by *mt_time_lags*) between all locations are summed.                                                                                                                                              |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *TimeDay*                       | This is the cumulative amount of time spent at the cluster, across all IDs, in daytime.                                                                                                                                      | The time difference between locations in daytime (between 5am and 5pm inclusive) is summed across all IDs.                                                                                                                                                                                    |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *TimeFeed*                      | This is the cumulative amount of time spent at the cluster, across all IDs, for points that have a *Feeding* behavioural classification. This will not be generated if the *BehavSystem* setting is not selected.            | The time difference between all locations with a *Feeding* classification and the next location are summed.                                                                                                                                                                                   |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *MedianHourFeed*                | This is the median hour associated with *Feeding* behaviour. This will not be generated if the *BehavSystem* setting is not selected.                                                                                        | The timestamps of all locations with a *Feeding* behaviour classification are selected, and the median hour taken.                                                                                                                                                                            |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *MedianHourDay*                 | This is the median hour of all non-nighttime locations.                                                                                                                                                                      | Locations between 5pm and 5am are removed, and the median hour of the remaining locations is taken.                                                                                                                                                                                           |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *nbirds*                        | This is the number of individual IDs present at the cluster event.                                                                                                                                                           | The unique track IDs of all associated tags associated with this cluster event are taken.                                                                                                                                                                                                     |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *birds*                         | This is the list of individual IDs present at the cluster event.                                                                                                                                                             | The unique track IDs of all associated tags associated with this cluster event are taken, and pasted with separator ","                                                                                                                                                                       |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *Total*                         | This is the total number of locations associated with the cluster event, across all IDs.                                                                                                                                     | The number of reported locations associated within the cluster (i.e. the number of rows of tracking data with this cluster assignment) are counted.                                                                                                                                           |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *SFeeding, SRoosting, SResting* | This is the total number of locations associated with the cluster event with a behavioural classification of *Feeding, Resting* and *Roosting,* respectively.                                                                | The number of reported locations associated with the cluster *and* the associated behavioural classification are counted.                                                                                                                                                                     |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *DistMedian*                    | This is the median distance, in metres, of any two locations associated with the cluster event.                                                                                                                              | A distance matrix is generated for all locations associated with the cluster event, and the median taken.                                                                                                                                                                                     |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *DistSD*                        | This is the standard deviation, in metres, of the distance between any two locations associated with the cluster event.                                                                                                      | A distance matrix is generated for all locations associated with the cluster event, and the standard deviation taken.                                                                                                                                                                         |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *dist_to_bird_m*                | This is the smallest distance, in metres, from the centre of the cluster to the nearest ID *not* associated with the cluster event.                                                                                          | The tracking data is filtered to the timespan of this cluster event, and all IDs already associated with the event (i.e. those listed in *birds*) are removed. The nearest reported location to the cluster is taken, and the distance calculated.                                            |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *within_25k*                    | This is the total number of IDs within 25km of the cluster event over the full timespan of the event.                                                                                                                        | A buffer of radius 25km is generated around the event. All tracking data is filtered to the time interval of the cluster event, and then to any locations within this 25km radius. The number of unique IDs within this subset is taken, *including* birds associated with the cluster event. |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *within_50k*                    | This is the same metric as within_25k, but the distance is extended to 50km.                                                                                                                                                 | A buffer of radius 50km is generated around the event. All tracking data is filtered to the time interval of the cluster event, and then to any locations within the 50km radius. The number of unique IDs within this subset is taken, *including* birds associated with the cluster event.  |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *nightdist_mean*                | This is the mean distance between the nighttime and daytime location of all birds involved in the cluster event.                                                                                                             | The tracking data is filtered to the time interval spanned by the cluster event, and to all associated IDs. A distance matrix between locations recorded during daytime and locations recorded during nighttime is generated, and the mean distance is calculated.                            |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *nightdist_med*                 | This is the median distance between the nighttime and daytime location of all birds involved in the cluster event.                                                                                                           | The same distance matrix as *nightdist_mean* is generated, and the median distance calculated.                                                                                                                                                                                                |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *nightdist_sd*                  | This is the standard deviation of the distance between the nighttime and daytime location of all birds involved in the cluster event.                                                                                        | The same distance matrix as *nightdist_mean* is generated, and the standard deviation calculated.                                                                                                                                                                                             |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *visitsinevent_tot*             | The total number of unique visits made to the cluster, across all IDs.                                                                                                                                                       | Runs of locations within the cluster are generated, and the number of unique runs calculated.                                                                                                                                                                                                 |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *visitsinevent_mean*            | The mean number of unique visits made to the cluster by each ID.                                                                                                                                                             | *visitsinevent_tot* is calculated and divided by *nbirds.*                                                                                                                                                                                                                                    |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *dayvisits_tot*                 | Equivalent to *visitsinevent_tot,* but only incorporating visits made within daytime.                                                                                                                                        | The total number of qualifying runs counted in *visitsinevent_tot* and a timestamp in daytime hours is summed.                                                                                                                                                                                |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| *dayvisits_mean*                | The mean numebr of unique visits made to the cluster by each ID.                                                                                                                                                             | *dayvisits_tot* is calculated and divided by *nbirds.*                                                                                                                                                                                                                                        |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

: **Clustertable Attributes**
